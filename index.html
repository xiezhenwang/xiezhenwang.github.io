<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>跳转提示</title>
  <script type="text/javascript">
    function openInBrowser() {
      var url = "https://www.baidu.com";

      // 检测是否在微信内置浏览器
      var ua = navigator.userAgent.toLowerCase();
      if (ua.indexOf("micromessenger") !== -1) {
        // 微信内置浏览器
        if (typeof WeixinJSBridge === "object") {
          WeixinJSBridge.invoke("openUrl", { url: url }, function(res) {
            console.log("跳转结果：", res.err_msg);
          });
        } else {
          // 如果JSBridge还没注入，监听
          document.addEventListener("WeixinJSBridgeReady", function() {
            WeixinJSBridge.invoke("openUrl", { url: url }, function(res) {
              console.log("跳转结果：", res.err_msg);
            });
          });
        }
      } else {
        // 普通浏览器，直接跳转
        window.location.href = url;
      }
    }
    window.onload = openInBrowser;
  </script>
</head>
<body>
  <p>正在尝试跳转百度...</p>
  <p>如果没有成功，请点击右上角「···」选择 <b>在浏览器打开</b></p>
</body>
</html>
